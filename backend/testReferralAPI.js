const axios = require('axios');\n\nasync function testReferralAPI() {\n  try {\n    console.log('Testing referral API...');\n    \n    // First, test if server is running\n    const healthCheck = await axios.get('http://localhost:5000/health');\n    console.log('Health check:', healthCheck.data);\n    \n    // Test login to get a token\n    console.log('\\nTesting login...');\n    const loginResponse = await axios.post('http://localhost:5000/api/auth/login', {\n      email: 'admin@hospital.com', // Assuming this user exists\n      password: 'password123'\n    });\n    \n    if (loginResponse.data.success) {\n      console.log('Login successful:', loginResponse.data.user);\n      const token = loginResponse.data.token;\n      \n      // Test referral creation\n      console.log('\\nTesting referral creation...');\n      const referralData = {\n        patient_id: 1,\n        receiving_hospital_id: 2,\n        reason_for_referral: 'Test referral from API',\n        clinical_summary: 'Patient needs specialized care',\n        priority: 'Routine',\n        bed_required: true,\n        doctor_required: true,\n        ambulance_required: false\n      };\n      \n      const referralResponse = await axios.post(\n        'http://localhost:5000/api/referrals',\n        referralData,\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n      \n      console.log('Referral creation response:', referralResponse.data);\n    } else {\n      console.log('Login failed:', loginResponse.data);\n    }\n    \n  } catch (error) {\n    console.error('Test failed:', {\n      message: error.message,\n      status: error.response?.status,\n      data: error.response?.data\n    });\n  }\n}\n\ntestReferralAPI();