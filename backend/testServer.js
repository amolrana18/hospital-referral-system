const express = require('express');\nconst cors = require('cors');\nconst { pool } = require('./config/database');\n\n// Test server setup\nconst app = express();\n\n// Middleware\napp.use(cors());\napp.use(express.json());\n\n// Test route\napp.get('/test', (req, res) => {\n  res.json({ message: 'Backend server is working!' });\n});\n\n// Test database connection\napp.get('/test-db', async (req, res) => {\n  try {\n    const [result] = await pool.execute('SELECT COUNT(*) as count FROM hospitals');\n    res.json({ \n      message: 'Database connection working!', \n      hospitals: result[0].count \n    });\n  } catch (error) {\n    res.status(500).json({ \n      message: 'Database connection failed', \n      error: error.message \n    });\n  }\n});\n\n// Test referral creation endpoint\napp.post('/test-referral', async (req, res) => {\n  try {\n    console.log('Test referral request:', req.body);\n    \n    // Mock user for testing\n    const mockUser = {\n      user_id: 1,\n      user_role: 'Doctor',\n      hospital_id: 1,\n      staff_id: 1\n    };\n    \n    // Simulate referral creation\n    const referralData = {\n      patient_id: 1,\n      referring_hospital_id: 1,\n      referring_staff_id: 1,\n      receiving_hospital_id: 2,\n      reason_for_referral: 'Test referral',\n      clinical_summary: 'Test summary',\n      priority: 'Routine',\n      bed_required: false,\n      doctor_required: false,\n      ambulance_required: false\n    };\n    \n    console.log('Would create referral with:', referralData);\n    \n    res.json({\n      success: true,\n      message: 'Test referral endpoint working',\n      data: referralData\n    });\n  } catch (error) {\n    console.error('Test referral error:', error);\n    res.status(500).json({\n      success: false,\n      message: 'Test failed',\n      error: error.message\n    });\n  }\n});\n\nconst PORT = process.env.PORT || 5001;\n\napp.listen(PORT, () => {\n  console.log(`Test server running on port ${PORT}`);\n});